<html>
    <head>
        <link rel="stylesheet" href="http://twitter.github.com/bootstrap/1.4.0/bootstrap.min.css">
        <script>
            $(function () {
                vt.initPages(document.getElementById('main'), function (pages) {
                    window.vt.pages = pages; // TODO: auto set this in initPages.
                    pages.home.load();
                    [['#goHome', '#home-li', pages.home],
                     ['#goChats', '#chats-li', pages.chats]].forEach(function (info) {
                        $(info[0]).click(function () {
                            $('.topbar li').removeClass('active');
                            $(info[1]).addClass('active');
                            info[2].load();
                        });
                    });
                });

                window.local = {};
                window.local.chats = ko.observableArray();
            });
        </script>
    </head>
    <body style='padding-top: 40px'>
        <div class="topbar" data-dropdown="dropdown">
            <div class="fill">
                <div class="container">
                    <h3><a href="#">Cloud Browser Chat</a></h3>
                    <ul>
                        <!-- TODO: these li id's are bad. -->
                        <li id='home-li'class="active"><a href="#" id='goHome'>Home</a></li>
                        <li id='chats-li'><a href="#" id='goChats'>Chats</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div id='main' style='padding-top: 10px'>
            <!-- TODO: initPages should fetch these from disk. -->
            <div data-page="id: home,  src: pages/home.html"></div>
            <div data-page="id: chats, src: pages/chats.html"></div>
        </div>
    </body>
</html>
