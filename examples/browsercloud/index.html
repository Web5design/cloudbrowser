<html>
    <head>
        <link rel='stylesheet' type='text/css' href='css/blueprint/screen.css' />
        <link rel='stylesheet' type='text/css' href='css/app.css' />
        <script>
            $(function () {
                // Similar to ko.applyBindings.
                vt.initPages(document.getElementById('main'), function (pages) {
                    window.pages = pages;
                    pages.activePage('login');
                    ko.applyBindings({
                        currentUser : vt.local.user,
                        activePage : pages.activePage
                    }, document.getElementById('nav'));
                });

            });
        </script>
    </head>
    <body>
        <div id='nav' data-bind="visible: currentUser() != null">
            <ul class='tabs'>
                <li data-bind="event : { click : function () { activePage('home'); } }"><a>Home</a></li>
                <li data-bind="event : { click : function () { activePage('browsers'); } }"><a>Browsers</a></li>
                <li data-bind="event : { click : function () { activePage('usercp'); } }"><a>Account Settings</a></li>
                <li data-bind="visible : (currentUser() != null) && currentUser().isAdmin(),
                               event   : { click : function () { activePage('admin'); } }"><a>Admin</a></li>
            </ul>
        </div>
        <div id='main' class='container'>
            <div data-page="id: login,    src: pages/login.html"></div>
            <div data-page="id: home,     src: pages/home.html"></div>
            <div data-page="id: browsers, src: pages/browsers.html"></div>
            <div data-page="id: usercp,   src: pages/usercp.html"></div>
            <div data-page="id: admin,    src: pages/admin.html"></div>
        </div>
        <script>
        </script>
    </body>
</html>
